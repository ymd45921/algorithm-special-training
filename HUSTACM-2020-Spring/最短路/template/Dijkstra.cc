#include "public.h"

bitset<N> vis;
dist_t dis[N];
const dist_t inf = 0x3f3f3f3f;

void dijkstra(int st, int n)
{
    memset(dis, 0x3f, sizeof(dist_t) * (n + 1));
    heap_t heap; vis.reset();
    dis[st] = 0, heap.push({0, st});
    while (!heap.empty())
    {
        auto now = heap.top();
        heap.pop();
        const auto u = now.second;
        if (vis[u]) continue;
        else vis[u] = true;
        FWS::forEach(u, [&](const edge &e)
        {
            const auto v = e.v;
            if (dis[u] + e.w >= dis[v]) return;
            dis[v] = dis[u] + e.w;
            heap.push({dis[v], v});
        });
    }
}